(()=>{const e=function(){},t="function"==typeof Buffer?Buffer:e,n="function"==typeof Blob?Blob:e,r="function"==typeof DataView?DataView:e,o=new Set([ArrayBuffer,BigInt,n,Boolean,t,r,Date,Error,Int8Array,Int16Array,Int32Array,Map,Number,RegExp,Set,String,Uint8Array,Uint16Array,Uint32Array]),f=new Set([Boolean,Error,Number,Promise,String,Symbol,WeakMap,WeakSet]),a=(e,i={},c=new WeakMap)=>{const s=typeof e;if(!e||"object"!==s||f.has(e.constructor)||"function"===s||"undefined"===s)return e&&"object"===s&&c.set(e,e),e;let u=c.get(e);if(u)return u;if(o.has(e.constructor)){if(u=e instanceof t?t.from(e):e instanceof ArrayBuffer?e.slice(0):e instanceof n?new n([e],{type:e.type,endings:e.endings}):e instanceof r?new r(a(e.buffer,i,c),e.byteOffset,e.byteLength):new e.constructor(e),c.set(e,u),u instanceof Set||u instanceof Map)for(const[e,t]of[...u.entries()])u instanceof Set?(u.delete(e),u.add(a(e,i,c))):u instanceof Map&&(u.delete(e),u.set(a(e,i,c),a(t,i,c)))}else if(Array.isArray(e))u=e.map(e=>a(e,i,c));else{if(e.constructor.from)try{return u=e.constructor.from(e),u}catch(e){}u=Object.create(Object.getPrototypeOf(e)),c.set(e,u),Object.entries(e).reduce((e,[t,n])=>(e[t]=a(n,i,c),e),u)}return u};"undefined"!=typeof module&&(module.nanoCopy=a,a.nanoCopy=a),"undefined"!=typeof globalThis&&(globalThis.nanoCopy=a)})();
